import{s as z,f as A,a as T,l as X,A as _e,g as D,d as m,c as j,h as C,m as Y,j as v,k as ne,x as S,i as E,B as R,n as Z,y as O,C as me,D as pe,r as $e,u as ge,v as he,w as ve,E as ye,F as se,G as ke,e as le,H as re,I as be,p as Ie,J as we,K as Ee,L as Se,o as Ae}from"../chunks/scheduler.af76fd68.js";import{S as H,i as K,a as g,f as De,t as y,h as Te,b as k,d as b,m as I,e as w,g as fe,c as ue,j as je}from"../chunks/index.cd9bf982.js";function ae(l){return(l==null?void 0:l.length)!==void 0?l:Array.from(l)}function Ne(l){let e,n,t,s,i,r;return{c(){e=A("link"),n=T(),t=A("span"),s=X(l[0]),this.h()},l(a){const o=_e("svelte-1s0ykcl",document.head);e=D(o,"LINK",{href:!0,rel:!0}),o.forEach(m),n=j(a),t=D(a,"SPAN",{class:!0,style:!0});var f=C(t);s=Y(f,l[0]),f.forEach(m),this.h()},h(){v(e,"href","https://fonts.googleapis.com/icon?family=Material+Icons+Outlined"),v(e,"rel","stylesheet"),v(t,"class","material-icons-outlined icon svelte-y47uu9"),ne(t,"--color",l[2])},m(a,o){S(document.head,e),E(a,n,o),E(a,t,o),S(t,s),i||(r=R(t,"click",function(){me(l[1])&&l[1].apply(this,arguments)}),i=!0)},p(a,[o]){l=a,o&1&&Z(s,l[0]),o&4&&ne(t,"--color",l[2])},i:O,o:O,d(a){a&&(m(n),m(t)),m(e),i=!1,r()}}}function Ce(l,e,n){let{name:t}=e,{handler:s=()=>{}}=e,{color:i="green"}=e;return l.$$set=r=>{"name"in r&&n(0,t=r.name),"handler"in r&&n(1,s=r.handler),"color"in r&&n(2,i=r.color)},[t,s,i]}class L extends H{constructor(e){super(),K(this,e,Ce,Ne,z,{name:0,handler:1,color:2})}}function oe(l,{delay:e=0,duration:n=400,easing:t=pe}={}){const s=+getComputedStyle(l).opacity;return{delay:e,duration:n,easing:t,css:i=>`opacity: ${i*s}`}}function Ve(l){let e,n,t,s,i;const r=l[2].default,a=$e(r,l,l[1],null);return{c(){e=A("div"),a&&a.c(),this.h()},l(o){e=D(o,"DIV",{class:!0});var f=C(e);a&&a.l(f),f.forEach(m),this.h()},h(){v(e,"class",n="cell "+(l[0]?"cell-last":"")+" svelte-kjgiwa")},m(o,f){E(o,e,f),a&&a.m(e,null),i=!0},p(o,[f]){a&&a.p&&(!i||f&2)&&ge(a,r,o,o[1],i?ve(r,o[1],f,null):he(o[1]),null),(!i||f&1&&n!==(n="cell "+(o[0]?"cell-last":"")+" svelte-kjgiwa"))&&v(e,"class",n)},i(o){i||(g(a,o),o&&ye(()=>{i&&(s&&s.end(1),t=De(e,oe,{duration:700}),t.start())}),i=!0)},o(o){y(a,o),t&&t.invalidate(),o&&(s=Te(e,oe,{duration:350})),i=!1},d(o){o&&m(e),a&&a.d(o),o&&s&&s.end()}}}function Be(l,e,n){let{$$slots:t={},$$scope:s}=e,{last:i=!1}=e;return l.$$set=r=>{"last"in r&&n(0,i=r.last),"$$scope"in r&&n(1,s=r.$$scope)},[i,s,t]}class F extends H{constructor(e){super(),K(this,e,Be,Ve,z,{last:0})}}function Le(l){let e,n=l[2](l[0])+"",t,s,i,r;return{c(){e=A("span"),t=X(n),this.h()},l(a){e=D(a,"SPAN",{class:!0});var o=C(e);t=Y(o,n),o.forEach(m),this.h()},h(){v(e,"class",s=se(l[1]?"DISABILITATO":l[2](l[0]))+" svelte-18tmayk")},m(a,o){E(a,e,o),S(e,t),i||(r=R(e,"click",l[3]),i=!0)},p(a,[o]){o&1&&n!==(n=a[2](a[0])+"")&&Z(t,n),o&3&&s!==(s=se(a[1]?"DISABILITATO":a[2](a[0]))+" svelte-18tmayk")&&v(e,"class",s)},i:O,o:O,d(a){a&&m(e),i=!1,r()}}}function Oe(l,e,n){let{prio:t=3}=e,{disabled:s=!1}=e;const i=a=>({1:"ALTA",2:"MEDIA",3:"BASSA"})[a],r=()=>{s||n(0,t=(t+1)%3+1)};return l.$$set=a=>{"prio"in a&&n(0,t=a.prio),"disabled"in a&&n(1,s=a.disabled)},[t,s,i,r]}class Pe extends H{constructor(e){super(),K(this,e,Oe,Le,z,{prio:0,disabled:1})}}function Je(l){let e=l[0].id+"",n;return{c(){n=X(e)},l(t){n=Y(t,e)},m(t,s){E(t,n,s)},p(t,s){s&1&&e!==(e=t[0].id+"")&&Z(n,e)},d(t){t&&m(n)}}}function Me(l){let e,n;return e=new L({props:{name:"task_alt",handler:l[2]}}),{c(){k(e.$$.fragment)},l(t){b(e.$$.fragment,t)},m(t,s){I(e,t,s),n=!0},p:O,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){w(e,t)}}}function qe(l){let e,n;return e=new L({props:{name:"circle",handler:l[2],color:"red"}}),{c(){k(e.$$.fragment)},l(t){b(e.$$.fragment,t)},m(t,s){I(e,t,s),n=!0},p:O,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){w(e,t)}}}function ze(l){let e,n,t,s;const i=[qe,Me],r=[];function a(o,f){return o[0].done==!1?0:1}return e=a(l),n=r[e]=i[e](l),{c(){n.c(),t=le()},l(o){n.l(o),t=le()},m(o,f){r[e].m(o,f),E(o,t,f),s=!0},p(o,f){let h=e;e=a(o),e===h?r[e].p(o,f):(fe(),y(r[h],1,1,()=>{r[h]=null}),ue(),n=r[e],n?n.p(o,f):(n=r[e]=i[e](o),n.c()),g(n,1),n.m(t.parentNode,t))},i(o){s||(g(n),s=!0)},o(o){y(n),s=!1},d(o){o&&m(t),r[e].d(o)}}}function He(l){let e,n,t,s,i;return{c(){e=A("input"),this.h()},l(r){e=D(r,"INPUT",{type:!0,class:!0,id:!0,placeholder:!0}),this.h()},h(){v(e,"type","text"),v(e,"class",n="todo-item-input-text "+(l[0].done==!0?"text-done":"")+" svelte-169s48g"),v(e,"id",t=l[0].id),v(e,"placeholder","Inserisci il nuovo ToDo")},m(r,a){E(r,e,a),re(e,l[0].task),s||(i=[R(e,"input",l[5]),R(e,"change",l[3])],s=!0)},p(r,a){a&1&&n!==(n="todo-item-input-text "+(r[0].done==!0?"text-done":"")+" svelte-169s48g")&&v(e,"class",n),a&1&&t!==(t=r[0].id)&&v(e,"id",t),a&1&&e.value!==r[0].task&&re(e,r[0].task)},d(r){r&&m(e),s=!1,be(i)}}}function Ke(l){let e,n,t;function s(r){l[6](r)}let i={disabled:l[0].done};return l[0].priority!==void 0&&(i.prio=l[0].priority),e=new Pe({props:i}),Ie.push(()=>je(e,"prio",s)),{c(){k(e.$$.fragment)},l(r){b(e.$$.fragment,r)},m(r,a){I(e,r,a),t=!0},p(r,a){const o={};a&1&&(o.disabled=r[0].done),!n&&a&1&&(n=!0,o.prio=r[0].priority,we(()=>n=!1)),e.$set(o)},i(r){t||(g(e.$$.fragment,r),t=!0)},o(r){y(e.$$.fragment,r),t=!1},d(r){w(e,r)}}}function Ue(l){let e,n;return e=new L({props:{name:"delete_forever",color:"red",handler:l[7]}}),{c(){k(e.$$.fragment)},l(t){b(e.$$.fragment,t)},m(t,s){I(e,t,s),n=!0},p:O,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){w(e,t)}}}function Fe(l){let e,n,t,s,i,r,a,o,f,h;return e=new F({props:{$$slots:{default:[Je]},$$scope:{ctx:l}}}),t=new F({props:{$$slots:{default:[ze]},$$scope:{ctx:l}}}),i=new F({props:{$$slots:{default:[He]},$$scope:{ctx:l}}}),a=new F({props:{$$slots:{default:[Ke]},$$scope:{ctx:l}}}),f=new F({props:{last:!0,$$slots:{default:[Ue]},$$scope:{ctx:l}}}),{c(){k(e.$$.fragment),n=T(),k(t.$$.fragment),s=T(),k(i.$$.fragment),r=T(),k(a.$$.fragment),o=T(),k(f.$$.fragment)},l(c){b(e.$$.fragment,c),n=j(c),b(t.$$.fragment,c),s=j(c),b(i.$$.fragment,c),r=j(c),b(a.$$.fragment,c),o=j(c),b(f.$$.fragment,c)},m(c,u){I(e,c,u),E(c,n,u),I(t,c,u),E(c,s,u),I(i,c,u),E(c,r,u),I(a,c,u),E(c,o,u),I(f,c,u),h=!0},p(c,[u]){const M={};u&513&&(M.$$scope={dirty:u,ctx:c}),e.$set(M);const V={};u&513&&(V.$$scope={dirty:u,ctx:c}),t.$set(V);const N={};u&513&&(N.$$scope={dirty:u,ctx:c}),i.$set(N);const q={};u&513&&(q.$$scope={dirty:u,ctx:c}),a.$set(q);const B={};u&512&&(B.$$scope={dirty:u,ctx:c}),f.$set(B)},i(c){h||(g(e.$$.fragment,c),g(t.$$.fragment,c),g(i.$$.fragment,c),g(a.$$.fragment,c),g(f.$$.fragment,c),h=!0)},o(c){y(e.$$.fragment,c),y(t.$$.fragment,c),y(i.$$.fragment,c),y(a.$$.fragment,c),y(f.$$.fragment,c),h=!1},d(c){c&&(m(n),m(s),m(r),m(o)),w(e,c),w(t,c),w(i,c),w(a,c),w(f,c)}}}function Ge(l,e,n){let{todo:t}=e,s=t.priority;const i=ke(),r=u=>{i("update",{type:u,id:t.id})},a=()=>{n(0,t.done=!t.done,t),r("update")},o=()=>{document.getElementById(t.id).blur(),r("update")};function f(){t.task=this.value,n(0,t)}function h(u){l.$$.not_equal(t.priority,u)&&(t.priority=u,n(0,t))}const c=()=>r("delete");return l.$$set=u=>{"todo"in u&&n(0,t=u.todo)},l.$$.update=()=>{l.$$.dirty&17&&t.priority!=s&&(n(4,s=t.priority),r("update"))},[t,r,a,o,s,f,h,c]}class Re extends H{constructor(e){super(),K(this,e,Ge,Fe,z,{todo:0})}}function ie(l,e,n){const t=l.slice();return t[6]=e[n],t}function ce(l){let e,n;return e=new Re({props:{todo:l[6]}}),e.$on("change",l[2]),{c(){k(e.$$.fragment)},l(t){b(e.$$.fragment,t)},m(t,s){I(e,t,s),n=!0},p(t,s){const i={};s&1&&(i.todo=t[6]),e.$set(i)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){w(e,t)}}}function Qe(l){let e,n="ToDos",t,s,i,r,a,o,f,h,c,u,M,V,N,q,B,P,Q,G;r=new L({props:{name:"tag"}}),f=new L({props:{name:"task_alt"}}),u=new L({props:{name:"list"}}),N=new L({props:{name:"schedule"}}),P=new L({props:{name:"add_box",handler:l[1]}});let J=ae(l[0]),p=[];for(let d=0;d<J.length;d+=1)p[d]=ce(ie(l,J,d));const de=d=>y(p[d],1,1,()=>{p[d]=null});return{c(){e=A("h1"),e.textContent=n,t=T(),s=A("div"),i=A("div"),k(r.$$.fragment),a=T(),o=A("div"),k(f.$$.fragment),h=T(),c=A("div"),k(u.$$.fragment),M=T(),V=A("div"),k(N.$$.fragment),q=T(),B=A("div"),k(P.$$.fragment),Q=T();for(let d=0;d<p.length;d+=1)p[d].c();this.h()},l(d){e=D(d,"H1",{class:!0,"data-svelte-h":!0}),Ee(e)!=="svelte-jhkup8"&&(e.textContent=n),t=j(d),s=D(d,"DIV",{class:!0});var _=C(s);i=D(_,"DIV",{class:!0});var $=C(i);b(r.$$.fragment,$),$.forEach(m),a=j(_),o=D(_,"DIV",{class:!0});var U=C(o);b(f.$$.fragment,U),U.forEach(m),h=j(_),c=D(_,"DIV",{class:!0});var x=C(c);b(u.$$.fragment,x),x.forEach(m),M=j(_),V=D(_,"DIV",{class:!0});var ee=C(V);b(N.$$.fragment,ee),ee.forEach(m),q=j(_),B=D(_,"DIV",{class:!0});var te=C(B);b(P.$$.fragment,te),te.forEach(m),Q=j(_);for(let W=0;W<p.length;W+=1)p[W].l(_);_.forEach(m),this.h()},h(){v(e,"class","app_title svelte-1c53j5r"),v(i,"class","header svelte-1c53j5r"),v(o,"class","header svelte-1c53j5r"),v(c,"class","header svelte-1c53j5r"),v(V,"class","header svelte-1c53j5r"),v(B,"class","header header_last svelte-1c53j5r"),v(s,"class","todo-list svelte-1c53j5r")},m(d,_){E(d,e,_),E(d,t,_),E(d,s,_),S(s,i),I(r,i,null),S(s,a),S(s,o),I(f,o,null),S(s,h),S(s,c),I(u,c,null),S(s,M),S(s,V),I(N,V,null),S(s,q),S(s,B),I(P,B,null),S(s,Q);for(let $=0;$<p.length;$+=1)p[$]&&p[$].m(s,null);G=!0},p(d,[_]){if(_&5){J=ae(d[0]);let $;for($=0;$<J.length;$+=1){const U=ie(d,J,$);p[$]?(p[$].p(U,_),g(p[$],1)):(p[$]=ce(U),p[$].c(),g(p[$],1),p[$].m(s,null))}for(fe(),$=J.length;$<p.length;$+=1)de($);ue()}},i(d){if(!G){g(r.$$.fragment,d),g(f.$$.fragment,d),g(u.$$.fragment,d),g(N.$$.fragment,d),g(P.$$.fragment,d);for(let _=0;_<J.length;_+=1)g(p[_]);G=!0}},o(d){y(r.$$.fragment,d),y(f.$$.fragment,d),y(u.$$.fragment,d),y(N.$$.fragment,d),y(P.$$.fragment,d),p=p.filter(Boolean);for(let _=0;_<p.length;_+=1)y(p[_]);G=!1},d(d){d&&(m(e),m(t),m(s)),w(r),w(f),w(u),w(N),w(P),Se(p,d)}}}function We(l,e,n){let t=[],s=0;Ae(async()=>{for(let f=0;f<localStorage.length;f++){const h=localStorage.key(f),c=+h.substring(4);c>=s&&(s=c);const u=JSON.parse(localStorage.getItem(h));u!=null&&t.push(u)}n(0,t=[...t])});const i=async()=>{let f={id:++s,task:"",done:!1,priority:3};console.log("CREATE:",f),localStorage.setItem("todo${todo.id}",JSON.stringify(f)),n(0,t=[...t,f])},r=async f=>{switch(f.detail.type){case"update":o(f.detail.id);break;case"delete":a(f.detail.id);break}a(f.detail.id)},a=f=>{console.log("DELETE:",f),n(0,t=t.filter(h=>h.id!=f)),localStorage.removeItem("todo${id}")},o=f=>{console.log("UPDATE:",f);const h=t.filter(c=>c.id==f)[0];localStorage.setItem("todo${id}",JSON.stringify(h))};return[t,i,r]}class Xe extends H{constructor(e){super(),K(this,e,We,Qe,z,{})}}function Ye(l){let e,n,t;return n=new Xe({}),{c(){e=A("main"),k(n.$$.fragment),this.h()},l(s){e=D(s,"MAIN",{class:!0});var i=C(e);b(n.$$.fragment,i),i.forEach(m),this.h()},h(){v(e,"class","svelte-zviwzw")},m(s,i){E(s,e,i),I(n,e,null),t=!0},p:O,i(s){t||(g(n.$$.fragment,s),t=!0)},o(s){y(n.$$.fragment,s),t=!1},d(s){s&&m(e),w(n)}}}class et extends H{constructor(e){super(),K(this,e,null,Ye,z,{})}}export{et as component};
